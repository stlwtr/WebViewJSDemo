<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
            <title>直通车</title>
            <style type='text/css'>
                html { font-family:Helvetica; color:#222; }
                h1 { color:steelblue; font-size:24px; margin-top:24px; }
                button { margin:0 3px 10px; font-size:12px; }
                .logLine { border-bottom:1px solid #ccc; padding:4px 2px; font-family:courier; font-size:11px; }
                </style>
            </head>
    
    <body>
        <script type="text/javascript">
            var u = navigator.userAgent;
            function login() {
                if(navigator.userAgent.indexOf('edu.wkwebview') > -1) {
                    window.webkit.messageHandlers.eduapp.postMessage('{"method":"login"}');
                } else if (eduapp && eduapp.login && typeof eduapp.login == 'function') {
                    eduapp.login();
                }
            }
        
        var uniqueId = 1
        
        function log(message, data) {
            var log = document.getElementById('log')
            var el = document.createElement('div')
            el.className = 'logLine'
            el.innerHTML = uniqueId++ + '. ' + message + ':<br/>' + JSON.stringify(data)
            if (log.children.length) { log.insertBefore(el, log.children[0]) }
            else { log.appendChild(el) }
        }
        
        function foo(data) {
            log('call foo() from oc', data)
        }
        
        </script>
        <button type='button' onclick='login()'>登录</button>
        <div id='log'></div>
    </body>
    
</html>
